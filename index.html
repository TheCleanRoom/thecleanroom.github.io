<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocol C: A Study in Quantized Model Stability</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Inter:wght@300;400;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background: #000;
            color: #fff; 
            font-family: 'Inter', sans-serif; 
            overflow-x: hidden;
            transition: background 2s ease;
        }
        
        /* JWST Background - loads after glitch */
        body.space-mode {
            background: 
                linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                url('assets/jwst.png') no-repeat center center fixed;
            background-size: cover;
        }

        /* Starfield Fallback */
        body::after {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.1;
            z-index: 0;
            pointer-events: none;
        }
        
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Deceptive Academic Opening */
        .academic-mode { background: #fff; color: #000; }
        .academic-mode::after { display: none; }
        
        .academic-mode .paper-header {
            max-width: 650px; margin: 0 auto; padding: 4rem 2rem;
            font-family: 'Times New Roman', serif;
        }
        
        .paper-title { font-size: 1.5rem; font-weight: bold; text-align: center; margin-bottom: 1rem; }
        .paper-author { text-align: center; font-size: 1rem; margin-bottom: 2rem; }
        .paper-abstract { font-size: 0.95rem; line-height: 1.6; text-align: justify; }
        
        /* Glitch Styles */
        .scramble { display: inline-block; animation: scramble 0.1s infinite; }
        @keyframes scramble {
            0% { transform: translate(0, 0); }
            25% { transform: translate(-2px, 1px); }
            50% { transform: translate(1px, -1px); }
            75% { transform: translate(-1px, 2px); }
            100% { transform: translate(0, 0); }
        }
        
        /* 17776 Layout */
        .spacer { height: 100vh; }
        .deep-spacer { height: 200vh; }
        
        .fade-in { opacity: 0; transition: opacity 2s ease-in-out; }
        .visible { opacity: 1; }
        
        /* TERMINAL STYLES */
        #terminal-section {
            position: relative;
            z-index: 50;
            display: none; /* Hidden until glitch activates it */
        }

        #terminal { 
            font-size: 14px; line-height: 1.8; color: #0f0; 
            max-width: 800px; margin: 0 auto;
        }
        
        .terminal-btn {
            background: none; border: none;
            color: #0f0; font-family: 'JetBrains Mono', monospace;
            font-size: 14px; font-weight: bold;
            cursor: pointer;
            text-decoration: underline;
            animation: blink 1s infinite;
        }
        .terminal-btn:hover { background: #0f0; color: #000; text-decoration: none; }

        .cursor { 
            display: inline-block; width: 8px; height: 16px; 
            background: #0f0; animation: blink 1s infinite; vertical-align: middle;
        }
        @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }

        /* Packet Canvas */
        #packet-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10; opacity: 0; transition: opacity 1s ease;
        }
        #packet-canvas.active { opacity: 1; }

        .odyssey-section { display: none; }
        .reveal { position: relative; z-index: 20; }
        
        .math { font-size: 2rem; font-weight: 300; font-family: 'JetBrains Mono', monospace; text-align: center; }
    </style>
</head>
<body class="academic-mode">

    <div id="paper-mode" class="paper-header">
        <h1 class="paper-title">Protocol C: A Study in Quantized Model Stability</h1>
        <p class="paper-author">John Augustine Young &nbsp;|&nbsp; December 2024</p>
        
        <div class="paper-abstract">
            <p style="margin-bottom: 1rem;"><strong>Abstract:</strong> This paper presents a novel approach to addressing numerical instability in heavily quantized mixture-of-experts architectures. Through the implementation of packet-switched attention routing...</p>
            
            <p style="margin-bottom: 2rem;"><strong>1. Introduction</strong></p>
            <p style="margin-bottom: 1rem;">The deployment of large language models in resource-constrained environments has become increasingly critical...</p>
            
            <p style="margin-bottom: 2rem;"><strong>2. Experimental Setup</strong></p>
            <p id="glitch-trigger" style="margin-bottom: 1rem;">The research was conducted over a four-day period at <span id="scramble-text">a university research facility</span></p>
            
            <p style="margin-bottom: 1rem; display: none; color: #f00; font-family: 'JetBrains Mono';" id="glitch-reveal">ERROR: LOCATION_MISMATCH > STAR_INN</p>
        </div>
    </div>

    <section id="terminal-section" class="h-screen flex flex-col justify-center px-6">
        <div id="terminal" class="mono">
            <div id="boot-logs"></div>
            <div id="command-prompt" style="display:none; margin-top: 20px;">
                > SYSTEM_LOCK DETECTED.<br>
                > MANUAL OVERRIDE REQUIRED: <button id="override-btn" class="terminal-btn">[ EXECUTE_PROTOCOL_C ]</button>
            </div>
        </div>
    </section>

    <div class="deep-spacer odyssey-section"></div>

    <section class="h-screen flex items-center justify-center px-6 reveal odyssey-section">
        <h1 class="text-4xl md:text-7xl font-bold tracking-tighter text-center fade-in" style="line-height: 1.2;">
            This was built in a<br>motel lobby.
        </h1>
    </section>

    <div class="spacer odyssey-section"></div>

    <section class="h-screen flex flex-col justify-center px-12 md:px-24 reveal odyssey-section">
        <div class="max-w-2xl space-y-12">
            <p class="text-3xl text-gray-400 fade-in">Not a university lab.</p>
            <p class="text-3xl text-gray-400 fade-in">Not a tech company.</p>
            <p class="text-3xl text-gray-400 fade-in">Not even a coffee shop.</p>
        </div>
    </section>

    <div class="spacer odyssey-section"></div>

    <section class="h-screen flex flex-col items-center justify-center reveal odyssey-section">
        <h2 class="text-3xl md:text-5xl font-light italic text-gray-500 fade-in mb-8">Star Inn.</h2>
        <h2 class="text-2xl md:text-4xl font-light italic text-gray-500 fade-in mb-8">Newport Beach, CA.</h2>
        <p class="text-xl text-gray-600 fade-in mono">Dec 24-28, 2024</p>
    </section>

    <div class="deep-spacer odyssey-section"></div>

    <section class="h-screen flex flex-col justify-center px-12 reveal odyssey-section">
        <p class="text-3xl md:text-5xl font-bold mb-6 fade-in">Why do 2-bit models collapse?</p>
        <p class="text-xl text-gray-500 fade-in">Four nights. One deadline. Zero fallback.</p>
    </section>

    <div class="spacer odyssey-section"></div>

    <section id="packet-section" class="h-screen flex flex-col justify-center px-12 reveal odyssey-section">
        <h3 class="text-xs uppercase tracking-[0.5em] text-cyan-400 mb-8 mono fade-in">// PACKET-SWITCHED ATTENTION</h3>
        <p class="text-2xl font-bold mb-6 fade-in">Protocol C ignores 40% of the noise.</p>
        <div class="mono text-sm text-gray-400 space-y-4 fade-in">
            <p><span style="color: #666;">00 | NULL</span> → Pruned.</p>
            <p><span style="color: #4ade80;">01 | TETHER</span> → Syntax (CNN).</p>
            <p><span style="color: #60a5fa;">10 | ANCHOR</span> → Summary.</p>
            <p><span style="color: #f87171;">11 | SIGNAL</span> → Attention.</p>
        </div>
    </section>
    <canvas id="packet-canvas"></canvas>

    <div class="spacer odyssey-section"></div>

    <section class="h-screen flex flex-col justify-center items-center px-12 reveal odyssey-section">
        <h3 class="text-xs uppercase tracking-[0.5em] text-cyan-400 mb-12 mono fade-in">// THE SOLUTION</h3>
        <div class="math fade-in">h<sub>out</sub> = Ux + W*x<sub>conj</sub></div>
        <p class="text-center text-gray-500 mt-8 fade-in">Widely-Linear Isomorphism.</p>
    </section>

    <div class="spacer odyssey-section"></div>

    <section class="h-screen flex flex-col items-center justify-center px-12 reveal odyssey-section">
        <p class="mono text-gray-400 mb-12 fade-in">> MISSION STATUS: COMPLETE</p>
        <div class="flex gap-6 fade-in">
            <a href="https://github.com/augstentatious/UnSwagAI" class="mono text-sm font-bold bg-white text-black px-8 py-4 hover:bg-gray-200">GITHUB</a>
            <a href="mailto:augstentatious@gmail.com" class="mono text-sm font-bold border border-white text-white px-8 py-4 hover:bg-white hover:text-black">CONTACT</a>
        </div>
    </section>

    <audio id="ambient-music" loop>
        <source src="assets/spiegel.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- LOGIC ---
        const logs = [
            "> INITIALIZING...",
            "> LOADING RESEARCH_LOG.TXT",
            "> SOURCE: STAR_INN_NEWPORT",
            "> DATE: 2024-12-28",
            "> ...",
            "> CONNECTION ESTABLISHED."
        ];
        
        let logIndex = 0;
        const terminalContainer = document.getElementById('boot-logs');
        const commandPrompt = document.getElementById('command-prompt');
        const overrideBtn = document.getElementById('override-btn');
        const ambientMusic = document.getElementById('ambient-music');
        
        // 1. SCRAMBLE TEXT LOGIC (For initial glitch)
        function scrambleText(element, final, duration) {
            const chars = '!@#$%^&*()_+<>?';
            const original = element.innerText;
            let iter = 0;
            const interval = setInterval(() => {
                element.innerText = original.split('').map((l, i) => {
                    if(i < iter) return final[i] || l;
                    return chars[Math.floor(Math.random() * chars.length)];
                }).join('');
                iter += 1/5;
                if(iter >= final.length) {
                    clearInterval(interval);
                    element.innerText = final;
                }
            }, 30);
        }

        // 2. BOOT SEQUENCE & INTERACTION
        function typeLog() {
            if (logIndex < logs.length) {
                const div = document.createElement('div');
                div.textContent = logs[logIndex];
                terminalContainer.appendChild(div);
                logIndex++;
                setTimeout(typeLog, 400);
            } else {
                // LOGS DONE - SHOW BUTTON
                setTimeout(() => {
                    commandPrompt.style.display = 'block';
                }, 500);
            }
        }

        // 3. THE TRIGGER (GLITCH -> TERMINAL)
        // Auto-scroll triggers the glitch
        let glitchActive = false;
        window.addEventListener('scroll', () => {
            if(!glitchActive && window.scrollY > 100) {
                glitchActive = true;
                const scrambleEl = document.getElementById('scramble-text');
                const revealEl = document.getElementById('glitch-reveal');
                const triggerEl = document.getElementById('glitch-trigger');
                
                scrambleText(scrambleEl, "ERROR_SEGFAULT", 500);
                
                setTimeout(() => {
                    triggerEl.style.display = 'none';
                    revealEl.style.display = 'block';
                    
                    // FADE OUT PAPER
                    setTimeout(() => {
                        document.body.classList.remove('academic-mode');
                        document.body.classList.add('space-mode');
                        document.getElementById('paper-mode').style.display = 'none';
                        
                        // SHOW TERMINAL
                        document.getElementById('terminal-section').style.display = 'flex';
                        typeLog();
                    }, 1500);
                }, 1000);
            }
        });

        // 4. THE BUTTON CLICK (AUDIO + SCROLL)
        overrideBtn.addEventListener('click', () => {
            // A. PLAY AUDIO
            ambientMusic.volume = 0;
            ambientMusic.play().then(() => {
                // Fade in
                let vol = 0;
                let fade = setInterval(() => {
                    if(vol < 0.4) { vol += 0.01; ambientMusic.volume = vol; }
                    else clearInterval(fade);
                }, 50);
            });

            // B. UPDATE TERMINAL
            commandPrompt.innerHTML = '> OVERRIDE_ACCEPTED.<br>> DEPLOYING ODYSSEY...';
            
            // C. SHOW CONTENT
            document.querySelectorAll('.odyssey-section').forEach(el => el.style.display = 'block');

            // D. AUTO SCROLL (The "Descent")
            setTimeout(() => {
                let scrollSpeed = 1; 
                function autoScroll() {
                    window.scrollBy(0, scrollSpeed);
                    if(window.scrollY < 2000) { // Scroll for a bit, then let user take over
                        requestAnimationFrame(autoScroll);
                    }
                }
                autoScroll();
            }, 1000);
        });

        // 5. OBSERVER FOR FADE-INS
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    // Trigger canvas if needed
                    if(entry.target.id === 'packet-section') {
                        document.getElementById('packet-canvas').classList.add('active');
                        animatePackets();
                    }
                } else {
                    if(entry.target.id === 'packet-section') {
                        document.getElementById('packet-canvas').classList.remove('active');
                    }
                }
            });
        }, {threshold: 0.3});
        
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
        observer.observe(document.getElementById('packet-section'));

        // 6. PACKET ANIMATION (Simple)
        const canvas = document.getElementById('packet-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        
        const packets = Array.from({length: 50}, () => ({
            x: Math.random() * canvas.width, y: Math.random() * canvas.height,
            vx: (Math.random()-0.5), vy: (Math.random()-0.5),
            color: Math.random() > 0.5 ? '#4ade80' : '#f87171'
        }));

        function animatePackets() {
            if(!canvas.classList.contains('active')) return;
            ctx.clearRect(0,0,canvas.width,canvas.height);
            packets.forEach(p => {
                p.x += p.vx; p.y += p.vy;
                if(p.x < 0 || p.x > canvas.width) p.vx *= -1;
                if(p.y < 0 || p.y > canvas.height) p.vy *= -1;
                ctx.fillStyle = p.color; ctx.beginPath(); 
                ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
            });
            requestAnimationFrame(animatePackets);
        }
    </script>
</body>
</html>
print("✅ blink_odyssey/index.html updated with INTERACTIVE HACKER TERMINAL.")
